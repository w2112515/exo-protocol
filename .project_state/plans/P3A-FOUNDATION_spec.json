{
  "task_id": "P3A-FOUNDATION",
  "title": "Phase 3-A: 前端基础架构",
  "priority": "HIGH",
  "status": "DISPATCHED",
  "created": "2024-12-15T02:16:00+08:00",
  "design_ref": "P3-FRONTEND-DESIGN.md v2.0 (ADR-011)",
  "style": "Terminal Minimalism (Living Data Fusion)",
  
  "external_dependencies": [],
  "note": "无外部 API 依赖，纯前端开发",

  "subtasks": [
    {
      "id": "P3A-01",
      "title": "Next.js 15 项目初始化",
      "input": {
        "framework": "Next.js 15 (App Router)",
        "package_manager": "pnpm",
        "target_dir": "exo-frontend/"
      },
      "output": {
        "files": [
          "exo-frontend/package.json",
          "exo-frontend/tsconfig.json",
          "exo-frontend/next.config.ts",
          "exo-frontend/app/layout.tsx",
          "exo-frontend/app/page.tsx"
        ]
      },
      "acceptance_criteria": [
        "AC-01: pnpm create next-app 成功 (Next.js 15)",
        "AC-02: pnpm dev 启动成功 (localhost:3000)",
        "AC-03: App Router 结构正确 (app/ 目录)"
      ],
      "verify": {
        "unit": "pnpm dev 启动，浏览器访问 localhost:3000 显示页面",
        "evidence": "终端输出截图 + 浏览器截图"
      }
    },
    {
      "id": "P3A-02",
      "title": "核心依赖安装",
      "input": {
        "dependencies": {
          "styling": ["tailwindcss", "postcss", "autoprefixer", "@tailwindcss/typography"],
          "ui": ["class-variance-authority", "clsx", "tailwind-merge"],
          "shadcn": "shadcn/ui init",
          "state": ["@tanstack/react-query", "zustand"],
          "animation": ["framer-motion"],
          "icons": ["lucide-react"],
          "wallet": ["@solana/wallet-adapter-react", "@solana/wallet-adapter-react-ui", "@solana/wallet-adapter-wallets", "@solana/web3.js"],
          "visualization": ["reactflow", "recharts"],
          "3d_hero": ["@react-three/fiber", "@react-three/drei", "three"]
        }
      },
      "output": {
        "files": [
          "exo-frontend/package.json (updated)",
          "exo-frontend/tailwind.config.ts",
          "exo-frontend/postcss.config.mjs",
          "exo-frontend/components.json (shadcn)"
        ]
      },
      "acceptance_criteria": [
        "AC-01: 所有依赖安装成功 (pnpm install 无报错)",
        "AC-02: Tailwind 配置正确 (tailwind.config.ts)",
        "AC-03: shadcn/ui 初始化成功 (components.json 存在)",
        "AC-04: pnpm dev 启动无 TS 错误"
      ],
      "verify": {
        "unit": "pnpm install && pnpm dev 无错误",
        "evidence": "package.json 依赖列表截图"
      }
    },
    {
      "id": "P3A-03",
      "title": "设计系统配置 (CSS Variables + Tailwind Theme)",
      "input": {
        "design_spec": "P3-FRONTEND-DESIGN.md Section 4.2 色彩系统",
        "colors": {
          "primary": "#9945FF",
          "success": "#14F195",
          "bg_page": "#09090B",
          "bg_card": "rgba(255, 255, 255, 0.03)"
        },
        "fonts": {
          "ui": "Inter Tight",
          "mono": "JetBrains Mono"
        }
      },
      "output": {
        "files": [
          "exo-frontend/app/globals.css (CSS Variables)",
          "exo-frontend/tailwind.config.ts (Extended Theme)",
          "exo-frontend/lib/fonts.ts (Font Loader)"
        ]
      },
      "acceptance_criteria": [
        "AC-01: CSS Variables 定义 (--color-primary, --bg-page 等)",
        "AC-02: Tailwind 扩展颜色 (colors.primary, colors.success)",
        "AC-03: 字体加载 (Inter Tight + JetBrains Mono via next/font)",
        "AC-04: 测试页面渲染正确颜色"
      ],
      "verify": {
        "unit": "创建测试页面，验证 CSS 变量生效",
        "evidence": "测试页面截图 (显示品牌色)"
      }
    },
    {
      "id": "P3A-04",
      "title": "基础组件封装 (GlassCard + MagneticButton)",
      "input": {
        "design_spec": "P3-FRONTEND-DESIGN.md Section 4.4 + 7.1/7.2",
        "components": [
          {
            "name": "GlassCard",
            "props": ["children", "className", "hover"],
            "style": "bg-zinc-900/50 backdrop-blur-md border-zinc-800/50"
          },
          {
            "name": "MagneticButton",
            "props": ["children", "onClick", "variant"],
            "behavior": "鼠标靠近时轻微磁吸效果 (Framer Motion)"
          },
          {
            "name": "SpotlightBackground",
            "props": ["children"],
            "behavior": "全局鼠标跟随光晕"
          }
        ]
      },
      "output": {
        "files": [
          "exo-frontend/components/ui/glass-card.tsx",
          "exo-frontend/components/ui/magnetic-button.tsx",
          "exo-frontend/components/ui/spotlight-background.tsx"
        ]
      },
      "acceptance_criteria": [
        "AC-01: GlassCard 渲染正确样式 (磨砂玻璃 + 边框)",
        "AC-02: MagneticButton 磁吸效果生效 (Framer Motion spring)",
        "AC-03: SpotlightBackground 光晕跟随鼠标",
        "AC-04: 组件可复用 (props 传递正确)"
      ],
      "verify": {
        "unit": "创建 Showcase 页面测试所有组件",
        "evidence": "组件渲染截图 + 交互 GIF/视频"
      }
    },
    {
      "id": "P3A-05",
      "title": "Dashboard 布局框架 (Bento Grid)",
      "input": {
        "design_spec": "P3-FRONTEND-DESIGN.md Section 5.1 + 6.1",
        "layout": {
          "header": "Logo + Nav + Wallet Connect",
          "main_grid": [
            "KPI Cards (3 columns)",
            "Terminal Feed (左侧)",
            "Agent Flow (右侧)"
          ]
        }
      },
      "output": {
        "files": [
          "exo-frontend/app/dashboard/page.tsx",
          "exo-frontend/app/dashboard/layout.tsx",
          "exo-frontend/components/layout/header.tsx",
          "exo-frontend/components/layout/bento-grid.tsx"
        ]
      },
      "acceptance_criteria": [
        "AC-01: /dashboard 路由可访问",
        "AC-02: Header 渲染 (Logo + Nav + Wallet Placeholder)",
        "AC-03: Bento Grid 布局正确 (CSS Grid)",
        "AC-04: 响应式断点 (lg: 2 columns, md: 1 column)",
        "AC-05: 使用 GlassCard 作为各区域容器"
      ],
      "verify": {
        "unit": "访问 /dashboard，验证布局结构",
        "evidence": "全屏截图 (Desktop + Mobile 模拟)"
      }
    }
  ],

  "execution_order": ["P3A-01", "P3A-02", "P3A-03", "P3A-04", "P3A-05"],
  "parallel_allowed": false,
  "note_to_wap": "严格按顺序执行。每个 subtask 完成后提交中间报告。P3A-04 的 MagneticButton 需要 Framer Motion spring 物理效果，不要用简单的 CSS hover。"
}
